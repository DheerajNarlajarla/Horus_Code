/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var S=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/path","vs/base/common/resources","vs/base/common/types","vs/base/common/errors","vs/workbench/contrib/output/common/outputLinkComputer","vs/editor/common/core/range"],M=function(L){for(var e=[],c=0,m=L.length;c<m;c++)e[c]=S[L[c]];return e};define(S[4],M([0,1,7,2,3,9]),function(L,e,c,m,g,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomPath=e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function d(i){return i===47||i===92}e.isPathSeparator=d;function w(i){return i.replace(/[\\/]/g,c.posix.sep)}e.toSlashes=w;function C(i){return i.indexOf("/")===-1&&(i=w(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=C;function b(i,a=c.posix.sep){if(!i)return"";const f=i.length,P=i.charCodeAt(0);if(d(P)){if(d(i.charCodeAt(1))&&!d(i.charCodeAt(2))){let v=3;const O=v;for(;v<f&&!d(i.charCodeAt(v));v++);if(O!==v&&!d(i.charCodeAt(v+1))){for(v+=1;v<f;v++)if(d(i.charCodeAt(v)))return i.slice(0,v+1).replace(/[\\/]/g,a)}}return a}else if(l(P)&&i.charCodeAt(1)===58)return d(i.charCodeAt(2))?i.slice(0,2)+a:i.slice(0,2);let U=i.indexOf("://");if(U!==-1){for(U+=3;U<f;U++)if(d(i.charCodeAt(U)))return i.slice(0,U+1)}return""}e.getRoot=b;function E(i){if(!m.isWindows||!i||i.length<5)return!1;let a=i.charCodeAt(0);if(a!==92||(a=i.charCodeAt(1),a!==92))return!1;let f=2;const P=f;for(;f<i.length&&(a=i.charCodeAt(f),a!==92);f++);return!(P===f||(a=i.charCodeAt(f+1),isNaN(a)||a===92))}e.isUNC=E;const I=/[\\/:\*\?"<>\|]/g,o=/[\\/]/g,r=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(i,a=m.isWindows){const f=a?I:o;return!(!i||i.length===0||/^\s+$/.test(i)||(f.lastIndex=0,f.test(i))||a&&r.test(i)||i==="."||i===".."||a&&i[i.length-1]==="."||a&&i.length!==i.trim().length||i.length>255)}e.isValidBasename=t;function n(i,a,f){const P=i===a;return!f||P?P:!i||!a?!1:(0,g.equalsIgnoreCase)(i,a)}e.isEqual=n;function s(i,a,f,P=c.sep){if(i===a)return!0;if(!i||!a||a.length>i.length)return!1;if(f){if(!(0,g.startsWithIgnoreCase)(i,a))return!1;if(a.length===i.length)return!0;let v=a.length;return a.charAt(a.length-1)===P&&v--,i.charAt(v)===P}return a.charAt(a.length-1)!==P&&(a+=P),i.indexOf(a)===0}e.isEqualOrParent=s;function l(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=l;function u(i,a){return m.isWindows&&i.endsWith(":")&&(i+=c.sep),(0,c.isAbsolute)(i)||(i=(0,c.join)(a,i)),i=(0,c.normalize)(i),m.isWindows?(i=(0,g.rtrim)(i,c.sep),i.endsWith(":")&&(i+=c.sep)):(i=(0,g.rtrim)(i,c.sep),i||(i=c.sep)),i}e.sanitizeFilePath=u;function h(i){const a=(0,c.normalize)(i);return m.isWindows?i.length>3?!1:R(a)&&(i.length===2||a.charCodeAt(2)===92):a===c.posix.sep}e.isRootOrDriveLetter=h;function R(i,a=m.isWindows){return a?l(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=R;function T(i,a=m.isWindows){return R(i,a)?i[0]:void 0}e.getDriveLetter=T;function k(i,a,f){return a.length>i.length?-1:i===a?0:(f&&(i=i.toLowerCase(),a=a.toLowerCase()),i.indexOf(a))}e.indexOfPath=k;function q(i){const a=i.split(":");let f,P,U;for(const v of a){const O=Number(v);(0,A.isNumber)(O)?P===void 0?P=O:U===void 0&&(U=O):f=f?[f,v].join(":"):v}if(!f)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:f,line:P!==void 0?P:void 0,column:U!==void 0?U:P!==void 0?1:void 0}}e.parseLineAndColumnAware=q;const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function W(i,a,f=8){let P="";for(let v=0;v<f;v++){let O;v===0&&m.isWindows&&!a&&(f===3||f===4)?O=y:O=N,P+=O.charAt(Math.floor(Math.random()*O.length))}let U;return a?U=`${a}-${P}`:U=P,i?(0,c.join)(i,U):U}e.randomPath=W}),define(S[5],M([0,1,10,2,3,6]),function(L,e,c,m,g,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.nodeModulesAsarUnpackedPath=e.nodeModulesAsarPath=e.nodeModulesPath=e.builtinExtensionsPath=e.RemoteAuthorities=e.connectionTokenQueryName=e.connectionTokenCookieName=e.matchesSomeScheme=e.matchesScheme=e.Schemas=void 0;var d;(function(o){o.inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data",o.command="command",o.vscodeRemote="vscode-remote",o.vscodeRemoteResource="vscode-remote-resource",o.vscodeManagedRemoteResource="vscode-managed-remote-resource",o.vscodeUserData="vscode-userdata",o.vscodeCustomEditor="vscode-custom-editor",o.vscodeNotebookCell="vscode-notebook-cell",o.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",o.vscodeNotebookCellOutput="vscode-notebook-cell-output",o.vscodeInteractiveInput="vscode-interactive-input",o.vscodeSettings="vscode-settings",o.vscodeWorkspaceTrust="vscode-workspace-trust",o.vscodeTerminal="vscode-terminal",o.vscodeChatSesssion="vscode-chat-editor",o.webviewPanel="webview-panel",o.vscodeWebview="vscode-webview",o.extension="extension",o.vscodeFileResource="vscode-file",o.tmp="tmp",o.vsls="vsls",o.vscodeSourceControl="vscode-scm"})(d||(e.Schemas=d={}));function w(o,r){return A.URI.isUri(o)?(0,g.equalsIgnoreCase)(o.scheme,r):(0,g.startsWithIgnoreCase)(o,r+":")}e.matchesScheme=w;function C(o,...r){return r.some(t=>w(o,t))}e.matchesSomeScheme=C,e.connectionTokenCookieName="vscode-tkn",e.connectionTokenQueryName="tkn";class b{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${d.vscodeRemoteResource}`}setPreferredWebSchema(r){this._preferredWebSchema=r}setDelegate(r){this._delegate=r}setServerRootPath(r){this._remoteResourcesPath=`${r}/${d.vscodeRemoteResource}`}set(r,t,n){this._hosts[r]=t,this._ports[r]=n}setConnectionToken(r,t){this._connectionTokens[r]=t}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(r){if(this._delegate)try{return this._delegate(r)}catch(h){return c.onUnexpectedError(h),r}const t=r.authority;let n=this._hosts[t];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);const s=this._ports[t],l=this._connectionTokens[t];let u=`path=${encodeURIComponent(r.path)}`;return typeof l=="string"&&(u+=`&${e.connectionTokenQueryName}=${encodeURIComponent(l)}`),A.URI.from({scheme:m.isWeb?this._preferredWebSchema:d.vscodeRemoteResource,authority:`${n}:${s}`,path:this._remoteResourcesPath,query:u})}}e.RemoteAuthorities=new b,e.builtinExtensionsPath="vs/../../extensions",e.nodeModulesPath="vs/../../node_modules",e.nodeModulesAsarPath="vs/../../node_modules.asar",e.nodeModulesAsarUnpackedPath="vs/../../node_modules.asar.unpacked",e.VSCODE_AUTHORITY="vscode-app";class E{static{this.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY}asBrowserUri(r){const t=this.toUri(r,L);return this.uriToBrowserUri(t)}uriToBrowserUri(r){return r.scheme===d.vscodeRemote?e.RemoteAuthorities.rewrite(r):r.scheme===d.file&&(m.isNative||m.webWorkerOrigin===`${d.vscodeFileResource}://${E.FALLBACK_AUTHORITY}`)?r.with({scheme:d.vscodeFileResource,authority:r.authority||E.FALLBACK_AUTHORITY,query:null,fragment:null}):r}asFileUri(r){const t=this.toUri(r,L);return this.uriToFileUri(t)}uriToFileUri(r){return r.scheme===d.vscodeFileResource?r.with({scheme:d.file,authority:r.authority!==E.FALLBACK_AUTHORITY?r.authority:null,query:null,fragment:null}):r}toUri(r,t){return A.URI.isUri(r)?r:A.URI.parse(t.toUrl(r))}}e.FileAccess=new E;var I;(function(o){const r=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(r.get("3"));const t="vscode-coi";function n(l){let u;typeof l=="string"?u=new URL(l).searchParams:l instanceof URL?u=l.searchParams:A.URI.isUri(l)&&(u=new URL(l.toString(!0)).searchParams);const h=u?.get(t);if(h)return r.get(h)}o.getHeadersFromQuery=n;function s(l,u,h){if(!globalThis.crossOriginIsolated)return;const R=u&&h?"3":h?"2":"1";l instanceof URLSearchParams?l.set(t,R):l[t]=R}o.addSearchParam=s})(I||(e.COI=I={}))}),define(S[8],M([0,1,4,5,7,2,3,6]),function(L,e,c,m,g,A,d,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(r){return(0,w.uriToFsPath)(r,!0)}e.originalFSPath=C;class b{constructor(t){this._ignorePathCasing=t}compare(t,n,s=!1){return t===n?0:(0,d.compare)(this.getComparisonKey(t,s),this.getComparisonKey(n,s))}isEqual(t,n,s=!1){return t===n?!0:!t||!n?!1:this.getComparisonKey(t,s)===this.getComparisonKey(n,s)}getComparisonKey(t,n=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(t){return this._ignorePathCasing(t)}isEqualOrParent(t,n,s=!1){if(t.scheme===n.scheme){if(t.scheme===m.Schemas.file)return c.isEqualOrParent(C(t),C(n),this._ignorePathCasing(t))&&t.query===n.query&&(s||t.fragment===n.fragment);if((0,e.isEqualAuthority)(t.authority,n.authority))return c.isEqualOrParent(t.path,n.path,this._ignorePathCasing(t),"/")&&t.query===n.query&&(s||t.fragment===n.fragment)}return!1}joinPath(t,...n){return w.URI.joinPath(t,...n)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return g.posix.basename(t.path)}extname(t){return g.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let n;return t.scheme===m.Schemas.file?n=w.URI.file(g.dirname(C(t))).path:(n=g.posix.dirname(t.path),t.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),n="/")),t.with({path:n})}normalizePath(t){if(!t.path.length)return t;let n;return t.scheme===m.Schemas.file?n=w.URI.file(g.normalize(C(t))).path:n=g.posix.normalize(t.path),t.with({path:n})}relativePath(t,n){if(t.scheme!==n.scheme||!(0,e.isEqualAuthority)(t.authority,n.authority))return;if(t.scheme===m.Schemas.file){const u=g.relative(C(t),C(n));return A.isWindows?c.toSlashes(u):u}let s=t.path||"/";const l=n.path||"/";if(this._ignorePathCasing(t)){let u=0;for(const h=Math.min(s.length,l.length);u<h&&!(s.charCodeAt(u)!==l.charCodeAt(u)&&s.charAt(u).toLowerCase()!==l.charAt(u).toLowerCase());u++);s=l.substr(0,u)+s.substr(u)}return g.posix.relative(s,l)}resolvePath(t,n){if(t.scheme===m.Schemas.file){const s=w.URI.file(g.resolve(C(t),n));return t.with({authority:s.authority,path:s.path})}return n=c.toPosixPath(n),t.with({path:g.posix.resolve(t.path,n)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,n){return t===n||t!==void 0&&n!==void 0&&(0,d.equalsIgnoreCase)(t,n)}hasTrailingPathSeparator(t,n=g.sep){if(t.scheme===m.Schemas.file){const s=C(t);return s.length>c.getRoot(s).length&&s[s.length-1]===n}else{const s=t.path;return s.length>1&&s.charCodeAt(s.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,n=g.sep){return(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,n=g.sep){let s=!1;if(t.scheme===m.Schemas.file){const l=C(t);s=l!==void 0&&l.length===c.getRoot(l).length&&l[l.length-1]===n}else{n="/";const l=t.path;s=l.length===1&&l.charCodeAt(l.length-1)===47}return!s&&!(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path+"/"}):t}}e.ExtUri=b,e.extUri=new b(()=>!1),e.extUriBiasedIgnorePathCase=new b(r=>r.scheme===m.Schemas.file?!A.isLinux:!0),e.extUriIgnorePathCase=new b(r=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function E(r,t){const n=[];for(let s=0;s<r.length;s++){const l=t(r[s]);r.some((u,h)=>h===s?!1:(0,e.isEqualOrParent)(l,t(u)))||n.push(r[s])}return n}e.distinctParents=E;var I;(function(r){r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function t(n){const s=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(h=>{const[R,T]=h.split(":");R&&T&&s.set(R,T)});const u=n.path.substring(0,n.path.indexOf(";"));return u&&s.set(r.META_DATA_MIME,u),s}r.parseMetaData=t})(I||(e.DataUri=I={}));function o(r,t,n){if(t){let s=r.path;return s&&s[0]!==g.posix.sep&&(s=g.posix.sep+s),r.with({scheme:n,authority:t,path:s})}return r.with({scheme:n})}e.toLocalResource=o}),define(S[11],M([0,1,6,4,8,3,12,2,5]),function(L,e,c,m,g,A,d,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.OutputLinkComputer=void 0;class b{constructor(o,r){this.ctx=o,this.patterns=new Map,this.computePatterns(r)}computePatterns(o){const r=o.workspaceFolders.sort((t,n)=>n.length-t.length).map(t=>c.URI.parse(t));for(const t of r){const n=b.createPatterns(t);this.patterns.set(t,n)}}getModel(o){return this.ctx.getMirrorModels().find(t=>t.uri.toString()===o)}computeLinks(o){const r=this.getModel(o);if(!r)return[];const t=[],n=A.splitLines(r.getValue());for(const[s,l]of this.patterns){const u={toResource:h=>typeof h=="string"?g.joinPath(s,h):null};for(let h=0,R=n.length;h<R;h++)t.push(...b.detectLinks(n[h],h+1,l,u))}return t}static createPatterns(o){const r=[],t=o.scheme===C.Schemas.file?o.fsPath:o.path,n=[t];w.isWindows&&o.scheme===C.Schemas.file&&n.push(m.toSlashes(t));for(const s of n){const l='[^\\s\\(\\):<>"]',h=`${`(?:${l}| ${l})`}+\\.${l}+`,R=`${l}+`;r.push(new RegExp(A.escapeRegExpCharacters(s)+`(${h}) on line ((\\d+)(, column (\\d+))?)`,"gi")),r.push(new RegExp(A.escapeRegExpCharacters(s)+`(${h}):line ((\\d+)(, column (\\d+))?)`,"gi")),r.push(new RegExp(A.escapeRegExpCharacters(s)+`(${h})(\\s?\\((\\d+)(,(\\d+))?)\\)`,"gi")),r.push(new RegExp(A.escapeRegExpCharacters(s)+`(${R})(:(\\d+))?(:(\\d+))?`,"gi"))}return r}static detectLinks(o,r,t,n){const s=[];return t.forEach(l=>{l.lastIndex=0;let u,h=0;for(;(u=l.exec(o))!==null;){const R=A.rtrim(u[1],".").replace(/\\/g,"/");let T;try{const y=n.toResource(R);y&&(T=y.toString())}catch{continue}if(u[3]){const y=u[3];if(u[5]){const W=u[5];T=A.format("{0}#{1},{2}",T,y,W)}else T=A.format("{0}#{1}",T,y)}const k=A.rtrim(u[0],"."),q=o.indexOf(k,h);h=q+k.length;const N={startColumn:q+1,startLineNumber:r,endColumn:q+1+k.length,endLineNumber:r};if(s.some(y=>d.Range.areIntersectingOrTouching(y.range,N)))return;s.push({range:N,url:T})}}),s}}e.OutputLinkComputer=b;function E(I,o){return new b(I,o)}e.create=E})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/08e6c15293922dd53a864bb041be381322fee401/core/vs\workbench\contrib\output\common\outputLinkComputer.js.map
